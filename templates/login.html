<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths">
    <head>
        {% set page_name = 'Login' %} {% include 'modules/head.html' %}
    </head>


    <body style="overflow: visible;">

        <!-- Begin page -->
        <div class="accountbg"></div>
        <div class="wrapper-page">

            <div class="card">
                <div class="card-body">

                    <h3 class="text-center mt-0 m-b-15">
                        <a href="index.html" class="logo logo-admin"><img src="assets/images/logo.png" height="30" alt="logo"></a>
                    </h3>

                    <h4 class="text-muted text-center font-18"><b>Вход в учетную запись</b></h4>

                    <div class="p-3">

                        {% if error == 1  %} 
                            <div class="alert alert-warning alert-dismissible">
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                Сессия истекла: <b>требуется авторизация</b>
                            </div>
                        {% endif %}

                        <form class="form-horizontal m-t-20" method="POST" action="{{ url_for('routes.login') }}">
                            {% if status == 400  %}
                                <div class="alert alert-danger alert-dismissible">
                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                    Неправильный <b>Логин</b> или <b>Пароль</b>!
                                </div>
                            {% endif %}

                            {% if status == 401  %}
                                <div class="alert alert-danger alert-dismissible">
                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                    Ошибка <b>Пользователь не найден</b>!
                                </div>
                            {% endif %}
                            
                            {% if status == 200  %} 
                                <div class="alert alert-success alert-dismissible">
                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                    Авторизовались, токен: <b>{{ token }}</b>
                                </div>
                            {% endif %}
                            
                            {% if status == 999  %}
                                <div class="alert alert-danger alert-dismissible">
                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                    Вы не можете войти с ролью: <b>{{rule}}</b>!
                            </div>
                            {% endif %}

                            <div class="form-group row">
                                <div class="col-12">
                                    <input name="username" class="form-control" type="text" required="" placeholder="Логин">
                                </div>
                            </div>

                            <div class="form-group row">
                                <div class="col-12">
                                    <input name="password" class="form-control" type="password" required="" placeholder="Пароль">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">Роль</label>


                                <div class="col-sm-10">
                                    <select name="rule"  class="form-control">
                                        <option>Пользователь</option>
                                        <option>Сотрудник</option>
                                        <option>Администратор</option>
                                    </select>
                                </div>
                            </div>
                            <b>&nbsp</b>

                            <div class="form-group row">
                                <div class="col-12">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="customCheck1">
                                        <label class="custom-control-label" for="customCheck1">Запомнить меня</label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group text-center row m-t-20">
                                <div class="col-12">
                                    <button class="btn btn-info btn-block waves-effect waves-light" type="submit">Войти</button>
                                </div>
                            </div>

                            <div class="form-group m-t-10 mb-0 row">
                                <div class="col-12 m-t-20 text-center" >
                                    <a href="register" class="text-muted"><i class="mdi mdi-account-circle"></i> Создать аккаунт</a>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>

        {% include 'modules/scripts.html' %}

</body></html>